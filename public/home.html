<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="image.css">
    <a href="https://88bryan.github.io./">
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <img width="25px" height="30px" src="goat2.png" style="position:relative;top:-px">
            <a class="navbar-brand" style="color:#21ffa8" href="/home">Go-4-Goat</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>

            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" style="color:#21ffa8" href="/">Log-out<span class="sr-only"></span></a>
                </li>
            </ul>

            <ul class="nav justify-content-end">
                <li class="nav-brand">
                    <a class="nav-link" style="color:#21ffa8" href="/faq">FAQ</a>
                </li>
                <li class="nav-brand">
                    <a class="nav-link" style="color:#21ffa8" href="/cart">Cart</a>
                </li>
            </ul>

        </nav>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</head>

<body>
    <div class="jumbotron jumbotron-fluid" style="background-image: url('dark_goat.jpg'); background-size: 100%;">
        <div class="container">
            <h1 class="display-4 text-white">Welcome to our Main Page!</h1>
            <p class="lead text-light">Please select any goats that interest you.</p>
            <hr class="my-4">
            <p class="text-light">It uses utility classes for typography and spacing to space content out within the larger container.</p>
            <p class="lead">
                <a class="btn btn-light btn-lg" href="/faq" role="button">Learn more</a>
            </p>
        </div>
    </div>
    <br>
    <center>
        <h4>Say hello to our cute goats</h4>
    </center>

    <main role="main">
        <div class="album py-5">
            <div class="container" id="container">

            </div>
        </div>
    </main>
</body>

<script>
    let row = $("<div>").addClass("row");
    $.get("/goat/all", (data, status) => {
        data.forEach(d => {
            let card = $("<div>").addClass("col-md-4").append(
                $("<div>").addClass("card mb-4 box-shadow").append(
                    $("<img>").addClass("card-img-top").attr("src", `/${d.image}`)
                ).append(
                    $("<div>").addClass("card-body").append(
                        $("<ul>").addClass("list-group list-group-flush").append(
                            $("<li>").addClass("list-group-item").text(`Name: ${d.name}`)
                        ).append(
                            $("<li>").addClass("list-group-item").text(`Price: $${d.price}`)
                        )
                    ).append($("<br>")).append(
                        $("<div>").addClass("d-flex justify-content-between align-items-center").append(
                            $("<div>").addClass("btn-group").append(
                                $("<input>").attr("type", "button").addClass("btn btn-outline-success").attr("value", "View details").click(() => {
                                    window.location = `/goat/details/${d.id}`;
                                })
                            ).append(
                                $("<input>").attr("type", "button").addClass("btn btn-outline-danger").attr("value", "Add to cart").click(() => {
                                    let cartStr = JSON.stringify(d);
                                    localStorage.setItem(d.id, cartStr);
                                    alert("Added to cart");
                                })
                            )
                        )
                    )
                )
            )

            row.append(card);
        });
        $("#container").append(row);
    })

    const saveToCart = () => {
        let cartStr = JSON.stringify(goatData);
        localStorage.setItem(id, cartStr);

        let alerter = document.getElementById("alert");
        alerter.className = "alert alert-success"
        alerter.textContent = "Added to cart";
    }

    function goat1Button() {

        var elem = document.getElementById("goat1");
        if (elem.value == "Purchase") {
            elem.value = "Placed in Interest";
        } else {
            elem.value = "Placed in Interest";
        }

        /* Used for undo attribute being set a hidden default
        let element = document.getElementById("reset1");
        let hidden = element.getAttribute("hidden");
			
        if (!hidden) {
        	element.setAttribute("hidden", "hidden");
        } else {
        	element.removeAttribute("hidden");
        } */
    }

    function undo1() {
        var elem = document.getElementById("goat1");
        if (elem.value == "Placed in Interest") {
            elem.value = "Purchase";
        } else {
            elem.value = "Purchase";
        }
    }

    function goat2Button() {
        //Include an undo?
        var elem = document.getElementById("goat2");
        if (elem.value == "Purchase") elem.value = "Placed in Interest";
        else {
            elem.value = "Placed in Interest";
        }
    }

    function undo2() {
        var elem = document.getElementById("goat2");
        if (elem.value == "Placed in Interest") {
            elem.value = "Purchase";
        } else {
            elem.value = "Purchase";
        }
    }

    function goat3Button() {
        //Include an undo?
        var elem = document.getElementById("goat3");
        if (elem.value == "Purchase") elem.value = "Placed in Interest";
        else {
            elem.value = "Placed in Interest";
        }
    }

    function undo3() {
        var elem = document.getElementById("goat3");
        if (elem.value == "Placed in Interest") {
            elem.value = "Purchase";
        } else {
            elem.value = "Purchase";
        }
    }
</script>

</html>